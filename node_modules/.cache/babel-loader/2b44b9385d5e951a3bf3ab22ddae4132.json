{"ast":null,"code":"import _defineProperty from\"C:/Users/Pablo PC/Desktop/Carpeta/AproyectosReact/MERNTasks/cliente/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Pablo PC/Desktop/Carpeta/AproyectosReact/MERNTasks/cliente/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Pablo PC/Desktop/Carpeta/AproyectosReact/MERNTasks/cliente/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{Link}from'react-router-dom';import AlertaContext from'../../context/alertas/alertaContext';import AuthContext from'../../context/autenticacion/authContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){//extraer valores del context\nvar alertaContext=useContext(AlertaContext);var alerta=alertaContext.alerta,mostrarAlerta=alertaContext.mostrarAlerta;var authContext=useContext(AuthContext);var mensaje=authContext.mensaje,autenticado=authContext.autenticado,iniciarSesion=authContext.iniciarSesion;//en caso de que el password o usuario no exista\nuseEffect(function(){if(autenticado){props.history.push('/proyectos');}if(mensaje){mostrarAlerta(mensaje.msg,mensaje.categoria);}//eslint-disable-next-line\n},[mensaje,autenticado,props.history]);//state para iniciar sesion\nvar _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),usuario=_useState2[0],guardarUsuario=_useState2[1];//extraer de usuario\nvar email=usuario.email,password=usuario.password;var onChange=function onChange(e){guardarUsuario(_objectSpread(_objectSpread({},usuario),{},_defineProperty({},e.target.name,e.target.value)));};//cuando el usuario queira iniciar sesion\nvar onSubmit=function onSubmit(e){e.preventDefault();//validar que no haya campos vacios \nif(email.trim()===''||password.trim()===''){mostrarAlerta(' Todos los campos son oblitagorios','alerta-error');}//pasarlo al action (fucnion definida en reducer)\niniciarSesion({email:email,password:password});};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-usuario\",children:[alerta?/*#__PURE__*/_jsx(\"div\",{className:\"alerta \".concat(alerta.categoria),children:alerta.msg}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"contenedor-form sombra-dark\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Iniciar Sesion\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email \"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"ejemplo@ejemplo.ej\",value:email,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Contrase\\xF1a123\",value:password,onChange:onChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"campo form\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-primario btn-block\",value:\"Iniciar Sesion\"})})]}),/*#__PURE__*/_jsx(Link,{to:'/nueva-cuenta',className:\"enlace-cuenta\",children:\"Obtener cuenta\"})]})]});};export default Login;","map":{"version":3,"sources":["C:/Users/Pablo PC/Desktop/Carpeta/AproyectosReact/MERNTasks/cliente/src/components/auth/Login.js"],"names":["React","useState","useContext","useEffect","Link","AlertaContext","AuthContext","Login","props","alertaContext","alerta","mostrarAlerta","authContext","mensaje","autenticado","iniciarSesion","history","push","msg","categoria","email","password","usuario","guardarUsuario","onChange","e","target","name","value","onSubmit","preventDefault","trim"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useEffect} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AlertaContext from '../../context/alertas/alertaContext';\r\nimport AuthContext from '../../context/autenticacion/authContext';\r\n\r\nconst Login = (props) => {\r\n\r\n    //extraer valores del context\r\n    const alertaContext = useContext( AlertaContext );\r\n    const { alerta, mostrarAlerta } = alertaContext;\r\n\r\n    const authContext = useContext(AuthContext);\r\n    const { mensaje, autenticado, iniciarSesion } = authContext;\r\n\r\n    //en caso de que el password o usuario no exista\r\n    useEffect(()=>{\r\n         if(autenticado){\r\n             props.history.push('/proyectos');\r\n         }\r\n        if(mensaje){\r\n            mostrarAlerta( mensaje.msg, mensaje.categoria);\r\n        }\r\n        \r\n        //eslint-disable-next-line\r\n    }, [mensaje, autenticado, props.history ]);\r\n\r\n    //state para iniciar sesion\r\n    const [usuario, guardarUsuario] = useState({\r\n        email:'',\r\n        password:''\r\n    });\r\n\r\n    //extraer de usuario\r\n    const {email, password} = usuario;\r\n\r\n    const onChange = e =>{\r\n        guardarUsuario({\r\n            ...usuario,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    //cuando el usuario queira iniciar sesion\r\n    const onSubmit = e =>{\r\n        e.preventDefault();\r\n\r\n\r\n        //validar que no haya campos vacios \r\n        if(email.trim() === '' || password.trim() === ''){\r\n            mostrarAlerta(' Todos los campos son oblitagorios', 'alerta-error');\r\n        }\r\n\r\n        //pasarlo al action (fucnion definida en reducer)\r\n        iniciarSesion( { email, password });\r\n\r\n    }\r\n\r\n\r\n    return ( \r\n        <div className='form-usuario'>\r\n            { alerta ?  \r\n                (<div className={`alerta ${alerta.categoria}`}>{alerta.msg}</div>)\r\n            : null}\r\n            <div className='contenedor-form sombra-dark'>\r\n                <h1>Iniciar Sesion</h1>\r\n\r\n                <form\r\n                    onSubmit={onSubmit}\r\n                >\r\n                    <div className='campo-form'>\r\n                        <label htmlFor='email'>Email </label>\r\n                        <input\r\n                            type='email'\r\n                            id='email'\r\n                            name='email'\r\n                            placeholder='ejemplo@ejemplo.ej'\r\n                            value={email}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className='campo-form'>\r\n                        <label htmlFor='password'>Password</label>\r\n                        <input\r\n                            type='password'\r\n                            id='password'\r\n                            name='password'\r\n                            placeholder='ContraseÃ±a123'\r\n                            value={password}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className='campo form'>\r\n                        <input \r\n                            type='submit' \r\n                            className='btn btn-primario btn-block' \r\n                            value='Iniciar Sesion'\r\n                        />\r\n                    </div>\r\n                </form>\r\n                <Link to={'/nueva-cuenta'}className='enlace-cuenta'>\r\n                    Obtener cuenta\r\n                </Link>\r\n            </div>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Login;"]},"metadata":{},"sourceType":"module"}