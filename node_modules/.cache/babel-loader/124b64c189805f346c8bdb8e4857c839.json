{"ast":null,"code":"import _defineProperty from\"C:/Users/Pablo PC/Desktop/Carpeta/AproyectosReact/MERNTasks/cliente/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Pablo PC/Desktop/Carpeta/AproyectosReact/MERNTasks/cliente/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Pablo PC/Desktop/Carpeta/AproyectosReact/MERNTasks/cliente/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{Link}from'react-router-dom';import AlertaContext from'../../context/alertas/alertaContext';import AuthContext from'../../context/autenticacion/authContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NuevaCuenta=function NuevaCuenta(props){//extraer valores del context\nvar alertaContext=useContext(AlertaContext);var alerta=alertaContext.alerta,mostrarAlerta=alertaContext.mostrarAlerta;var authContext=useContext(AuthContext);var mensaje=authContext.mensaje,autenticado=authContext.autenticado,registrarUsuario=authContext.registrarUsuario;//en caso de que el usuario se haya registrado o sea un registro duplicado\nuseEffect(function(){if(autenticado){props.history.push('/proyectos');}if(mensaje){mostrarAlerta(mensaje.msg,mensaje.categoria);}//eslint-disable-next-line\n},[mensaje,autenticado,props.history]);//state para iniciar sesion\nvar _useState=useState({nombre:'',email:'',password:'',confirmar:''}),_useState2=_slicedToArray(_useState,2),usuario=_useState2[0],guardarUsuario=_useState2[1];//extraer de usuario\nvar nombre=usuario.nombre,email=usuario.email,password=usuario.password,confirmar=usuario.confirmar;var onChange=function onChange(e){guardarUsuario(_objectSpread(_objectSpread({},usuario),{},_defineProperty({},e.target.name,e.target.value)));};//cuando el usuario queira iniciar sesion\nvar onSubmit=function onSubmit(e){e.preventDefault();//validar que no haya campos vacios \nif(nombre.trim()===''||email.trim()===''||password.trim()===''||confirmar.trim()===''){mostrarAlerta('Todos los campos son obligatorios','alerta-error');return;}//password minimo de 6 caracteres\nif(password.length<6){mostrarAlerta('La contraseña debe tener por lo menos 6 carácteres','alerta-error');return;}//los 2 passwords iguales\nif(password!==confirmar){mostrarAlerta('Las contraseñas deben ser iguales','alerta-error');return;}//pasarlo al action (fuction definida en reducer)\nregistrarUsuario({nombre:nombre,email:email,password:password});};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-usuario\",children:[alerta?/*#__PURE__*/_jsx(\"div\",{className:\"alerta \".concat(alerta.categoria),children:alerta.msg}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"contenedor-form sombra-dark\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Crear Cuenta\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nombre\",children:\"Nombre \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"nombre\",name:\"nombre\",placeholder:\"Nombre Completo\",value:nombre,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email \"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"ejemplo@ejemplo.ej\",value:email,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Contrase\\xF1a123\",value:password,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmar\",children:\"Confirmar Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmar\",name:\"confirmar\",placeholder:\"Contrase\\xF1a123\",value:confirmar,onChange:onChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"campo form\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-primario btn-block\",value:\"Registrarme\"})})]}),/*#__PURE__*/_jsx(Link,{to:'/',className:\"enlace-cuenta\",children:\"Volver a Iniciar Sesion\"})]})]});};export default NuevaCuenta;","map":{"version":3,"sources":["C:/Users/Pablo PC/Desktop/Carpeta/AproyectosReact/MERNTasks/cliente/src/components/auth/NuevaCuenta.js"],"names":["React","useState","useContext","useEffect","Link","AlertaContext","AuthContext","NuevaCuenta","props","alertaContext","alerta","mostrarAlerta","authContext","mensaje","autenticado","registrarUsuario","history","push","msg","categoria","nombre","email","password","confirmar","usuario","guardarUsuario","onChange","e","target","name","value","onSubmit","preventDefault","trim","length"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useEffect} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AlertaContext from '../../context/alertas/alertaContext';\r\nimport AuthContext from '../../context/autenticacion/authContext';\r\n\r\nconst NuevaCuenta = ( props ) => {\r\n\r\n    //extraer valores del context\r\n    const alertaContext = useContext( AlertaContext );\r\n    const { alerta, mostrarAlerta } = alertaContext;\r\n\r\n    const authContext = useContext(AuthContext);\r\n    const { mensaje, autenticado, registrarUsuario } = authContext;\r\n\r\n    //en caso de que el usuario se haya registrado o sea un registro duplicado\r\n    useEffect(()=>{\r\n        if(autenticado){\r\n            props.history.push('/proyectos');\r\n        }\r\n        if(mensaje){\r\n            mostrarAlerta( mensaje.msg, mensaje.categoria);\r\n        }\r\n\r\n        //eslint-disable-next-line\r\n    }, [mensaje, autenticado, props.history ]);\r\n\r\n    //state para iniciar sesion\r\n    const [usuario, guardarUsuario] = useState({\r\n        nombre:'',\r\n        email:'',\r\n        password:'',\r\n        confirmar:''\r\n    });\r\n\r\n    //extraer de usuario\r\n    const {nombre, email, password, confirmar} = usuario;\r\n\r\n    const onChange = e =>{\r\n        guardarUsuario({\r\n            ...usuario,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    //cuando el usuario queira iniciar sesion\r\n    const onSubmit = e =>{\r\n        e.preventDefault();\r\n\r\n        //validar que no haya campos vacios \r\n        if(nombre.trim() === '' || \r\n            email.trim() === '' || \r\n            password.trim() === '' || \r\n            confirmar.trim() === '' )\r\n            {\r\n                mostrarAlerta('Todos los campos son obligatorios', 'alerta-error');\r\n                return;\r\n        }\r\n\r\n        //password minimo de 6 caracteres\r\n        if(password.length < 6){\r\n            mostrarAlerta('La contraseña debe tener por lo menos 6 carácteres', 'alerta-error');\r\n            return;\r\n        }\r\n\r\n        //los 2 passwords iguales\r\n        if(password !== confirmar){\r\n            mostrarAlerta('Las contraseñas deben ser iguales', 'alerta-error');\r\n            return;\r\n        }\r\n\r\n        //pasarlo al action (fuction definida en reducer)\r\n        registrarUsuario({\r\n            nombre,\r\n            email,\r\n            password\r\n        })\r\n\r\n    }\r\n\r\n\r\n    return ( \r\n        <div className='form-usuario'>\r\n            { alerta ?  \r\n                (<div className={`alerta ${alerta.categoria}`}>{alerta.msg}</div>)\r\n            : null}\r\n            <div className='contenedor-form sombra-dark'>\r\n                <h1>Crear Cuenta</h1>\r\n\r\n                <form\r\n                    onSubmit={onSubmit}\r\n                >\r\n                    <div className='campo-form'>\r\n                        <label htmlFor='nombre'>Nombre </label>\r\n                        <input\r\n                            type='text'\r\n                            id='nombre'\r\n                            name='nombre'\r\n                            placeholder='Nombre Completo'\r\n                            value={nombre}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className='campo-form'>\r\n                        <label htmlFor='email'>Email </label>\r\n                        <input\r\n                            type='email'\r\n                            id='email'\r\n                            name='email'\r\n                            placeholder='ejemplo@ejemplo.ej'\r\n                            value={email}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className='campo-form'>\r\n                        <label htmlFor='password'>Password</label>\r\n                        <input\r\n                            type='password'\r\n                            id='password'\r\n                            name='password'\r\n                            placeholder='Contraseña123'\r\n                            value={password}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className='campo-form'>\r\n                        <label htmlFor='confirmar'>Confirmar Password</label>\r\n                        <input\r\n                            type='password'\r\n                            id='confirmar'\r\n                            name='confirmar'\r\n                            placeholder='Contraseña123'\r\n                            value={confirmar}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className='campo form'>\r\n                        <input \r\n                            type='submit' \r\n                            className='btn btn-primario btn-block' \r\n                            value='Registrarme'\r\n                        />\r\n                    </div>\r\n                </form>\r\n                <Link to={'/'}className='enlace-cuenta'>\r\n                    Volver a Iniciar Sesion\r\n                </Link>\r\n            </div>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default NuevaCuenta;"]},"metadata":{},"sourceType":"module"}